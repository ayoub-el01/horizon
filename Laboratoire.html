<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Horizon</title>
  <link rel="stylesheet" href="style Etude et ingénierie.css">
</head>

<body>


  <!-- header -->
  <header>
    <nav class="navbar">
      <div class="navbar-left">
        <a href="index.html" class="logo">
          <img src="imag.png" alt="Horizons Logo" class="logo-img">
        </a>
      </div>
      <ul class="nav_menu">
        <li class="nav_item1">
          <a href="index.html" class="nav_link" id="nav-home">Accueil</a>
        </li>
        <li class="nav_item1">
          <a href="Laboratoire.html" class="nav_link" id="nav-lab">Laboratoire</a>
        </li>
        <li class="nav_item1">
          <a href="Etude et ingénierie.html" class="nav_link" id="nav-engineering">Etude et ingénierie</a>
        </li>
        <li class="nav_item1">
          <a href="À propos.html" class="nav_link" id="nav-about">À propos</a>
        </li>
        <li class="nav_item">
          <button class="botun" onclick="window.location.href='contact.html'" id="nav-contact">contactez-nous</button>
        </li>
      </ul>
      <button class="navbar-toggle" aria-label="Toggle navigation">
        <span class="bar"></span>
        <span class="bar"></span>
        <span class="bar"></span>
      </button>
    </nav>
  </header>


  <!-- cards section -->
  <section class="big-cards-section">
    <div class="big-cards-container">
      <div class="big-card">
        <div class="card-image-container">
          <img src="1000115753.jpg" alt="Analyses Physico-Chimiques" class="big-card-image" />
          <div class="card-overlay"></div>
        </div>
        <div class="card-content">
          <h2 id="bigcard1-title">Analyses Physico-Chimiques</h2>
          <p id="bigcard1-desc">Nous réalisons une large gamme de paramètres pour évaluer la composition de l'eau</p>
          <a href="#service-technique-section" class="card-link">
            <span>En savoir plus</span>
            <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
              <path d="M5 12h14M12 5l7 7-7 7" />
            </svg>
          </a>
        </div>
      </div>
      <div class="big-card">
        <div class="card-image-container">
          <img src="1000115752.jpg" alt="Analyses Microbiologiques" class="big-card-image" />
          <div class="card-overlay"></div>
        </div>
        <div class="card-content">
          <h2 id="bigcard2-title">Analyses Microbiologiques</h2>
          <p id="bigcard2-desc">Nous aidons les collectivités à bâtir des territoires plus verts, plus intelligents et
            plus responsables grâce à notre expertise environnementale.</p>
          <a href="#service-technique-section1" class="card-link">
            <span>En savoir plus</span>
            <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
              <path d="M5 12h14M12 5l7 7-7 7" />
            </svg>
          </a>
        </div>
      </div>
    </div>
  </section>

  <section id="service-technique-section" class="analysis-section">
    <div class="analysis-card">
      <h2 id="analysis1-title">Analyses Physico-Chimiques</h2>
      <p class="analysis-desc" id="analysis1-desc">Évaluation complète de la composition chimique et des propriétés
        physiques de votre eau</p>
      <ul class="test-list">
        <li class="test-item" id="analysis1-li1">Température, pH, conductivité, turbidité</li>
        <li class="test-item" id="analysis1-li2">Dureté totale, calcium, magnésium, sodium, potassium</li>
        <li class="test-item" id="analysis1-li3">Nitrates, nitrites, ammonium, chlorures, sulfates, phosphates</li>
        <li class="test-item" id="analysis1-li4">Demande Chimique en Oxygène (DCO), Demande Biologique en Oxygène (DBO5)
        </li>
        <li class="test-item" id="analysis1-li5">Métaux lourds (plomb, arsenic, mercure, etc.)</li>
        <li class="test-item" id="analysis1-li6">Hydrocarbures, résidus chimiques, pesticides (sur demande)</li>
      </ul>
    </div>
  </section>

  <section id="service-technique-section1" class="analysis-section">
    <div class="analysis-card">
      <h2 id="analysis2-title">Analyses Microbiologiques</h2>
      <p class="analysis-desc" id="analysis2-desc">Détection et identification des micro-organismes pour assurer la
        sécurité sanitaire</p>
      <ul class="test-list">
        <li class="test-item" id="analysis2-li1">Bactéries coliformes totales et fécales</li>
        <li class="test-item" id="analysis2-li2">Escherichia coli (E. coli)</li>
        <li class="test-item" id="analysis2-li3">Salmonelles</li>
        <li class="test-item" id="analysis2-li4">Pseudomonas aeruginosa</li>
        <li class="test-item" id="analysis2-li5">Levures et moisissures (si demandé)</li>
      </ul>
    </div>
  </section>


  <!-- footer -->



  <footer class="footer">
    <div class="footer-container">
      <div class="footer-about">
        <h3 id="footer-about-title">Horizons</h3>
        <p id="footer-about-text">Au service de l’innovation durable et de solutions respectueuses de l’environnement,
          pour un impact réel.</p>
        <div class="footer-social">
          <div class="social-icons">
            <a href="#" aria-label="Facebook" class="social-icon">
              <svg width="24" height="24" fill="currentColor" viewBox="0 0 24 24">
                <path
                  d="M24 12.073C24 5.405 18.627 0 12 0S0 5.405 0 12.073c0 6.019 4.388 10.995 10.125 11.854v-8.385H7.078v-3.47h3.047V9.413c0-3.007 1.792-4.668 4.533-4.668 1.312 0 2.686.235 2.686.235v2.953h-1.513c-1.491 0-1.953.926-1.953 1.874v2.25h3.328l-.532 3.47h-2.796v8.385C19.612 23.068 24 18.092 24 12.073z" />
              </svg>
            </a>
            <a href="#" aria-label="LinkedIn" class="social-icon">
              <svg width="24" height="24" fill="currentColor" viewBox="0 0 24 24">
                <path
                  d="M20.447 20.452h-3.554v-5.569c0-1.327-.027-3.037-1.849-3.037-1.851 0-2.132 1.445-2.132 2.939v5.667H9.358V9h3.414v1.561h.049c.476-.899 1.637-1.849 3.37-1.849 3.602 0 4.267 2.368 4.267 5.455v6.285zM5.337 7.433c-1.144 0-2.069-.926-2.069-2.068 0-1.143.925-2.069 2.069-2.069 1.143 0 2.068.926 2.068 2.069 0 1.142-.925 2.068-2.068 2.068zm1.777 13.019H3.56V9h3.554v11.452zM22.225 0H1.771C.792 0 0 .771 0 1.723v20.549C0 23.229.792 24 1.771 24h20.451C23.2 24 24 23.229 24 22.271V1.723C24 .771 23.2 0 22.225 0z" />
              </svg>
            </a>
          </div>
        </div>
      </div>

      <div class="footer-links">
        <h3 id="footer-links-title">Lien</h3>
        <ul>
          <li><a href="index.html" id="footer-home">Accueil</a></li>
          <li><a href="Laboratoire.html" id="footer-lab">Laboratoire</a></li>
          <li><a href="Etude et ingénierie.html" id="footer-engineering">Etude et ingénierie</a></li>
          <li><a href="À propos.html" id="footer-about">À propos</a></li>
        </ul>
      </div>

      <div class="footer-newsletter">
        <h3 id="footer-contact-title">Contactez-nous</h3>
        <div class="footer-contact-info">
          <p><strong>Email:</strong> <span id="footer-email">contact@horizons.com</span></p>
          <p><strong id="footer-phone-label">Téléphone:</strong> <span id="footer-phone">+212 661 26 95 52</span></p>
          <p><strong id="footer-address-label">Adresse:</strong> <span id="footer-address">ZONE INDUSTRIELLE TASSILA
              AGADIR</span></p>
        </div>
      </div>

      <div class="footer-social">
        <h3 id="footer-location-title">Notre localisation</h3>
        <div class="footer-map" style="width:100%;height:180px;max-width:300px;">
          <iframe src="https://www.google.com/maps?q=Av.+Al+Farabi,+Dcheira+El+Jihadia+80000&output=embed" width="100%"
            height="180" style="border:0; border-radius:12px;" allowfullscreen="" loading="lazy"
            referrerpolicy="no-referrer-when-downgrade"></iframe>
        </div>
      </div>
    </div>
    <div class="footer-bottom">
      <p id="footer-copyright">© 2025 Horizons. Tous droits réservés.</p>
    </div>
  </footer>


  <button id="backToTop">
    <svg width="24" height="24" viewBox="0 0 24 24" fill="none">
      <path d="M12 5L12 19" stroke="white" stroke-width="2" stroke-linecap="round" />
      <path d="M5 12L12 5L19 12" stroke="white" stroke-width="2" stroke-linecap="round" />
    </svg>
  </button>
  <!-- Floating Language Switcher -->
  <div id="lang-switcher-container">
    <button id="lang-switch-floating" class="lang-switch-fab" title="Switch language" aria-haspopup="listbox"
      aria-expanded="false" tabindex="0">
      <span id="lang-switch-flag" class="lang-switch-flag"></span>
    </button>
    <div id="lang-switch-dropdown" class="lang-switch-dropdown" role="listbox" tabindex="-1">
      <button class="lang-switch-option" id="lang-switch-option-en" data-lang="en" tabindex="0">
        <span class="lang-switch-flag"></span>
        <span class="lang-switch-label">EN</span>
        <span class="lang-switch-check" style="display:none;">✔</span>
      </button>
      <button class="lang-switch-option" id="lang-switch-option-fr" data-lang="fr" tabindex="0">
        <span class="lang-switch-flag"></span>
        <span class="lang-switch-label">FR</span>
        <span class="lang-switch-check" style="display:none;">✔</span>
      </button>
    </div>
  </div>


  <script>
    // Hamburger menu toggle for mobile
    const toggle = document.querySelector('.navbar-toggle');
    const navMenu = document.querySelector('.nav_menu');
    if (toggle && navMenu) {
      const navItems = navMenu.querySelectorAll('li');
      navItems.forEach((item, index) => {
        item.style.setProperty('--item-index', index);
      });

      toggle.addEventListener('click', () => {
        navMenu.classList.toggle('open');
        toggle.classList.toggle('open');
      });

      // Close menu when clicking on a link
      const navLinks = document.querySelectorAll('.nav_link');
      navLinks.forEach(link => {
        link.addEventListener('click', () => {
          navMenu.classList.remove('open');
          toggle.classList.remove('open');
        });
      });

      // Close menu when clicking outside
      document.addEventListener('click', (e) => {
        if (!toggle.contains(e.target) && !navMenu.contains(e.target)) {
          navMenu.classList.remove('open');
          toggle.classList.remove('open');
        }
      });
    }
    // Back to Top button functionality
    const backToTopBtn = document.getElementById('backToTop');
    window.onscroll = function () {
      if (document.body.scrollTop > 200 || document.documentElement.scrollTop > 200) {
        backToTopBtn.classList.add("show");
      } else {
        backToTopBtn.classList.remove("show");
      }
    };
    backToTopBtn.onclick = function () {
      window.scrollTo({ top: 0, behavior: 'smooth' });
    };
    // Big card click effect
    document.querySelectorAll('.big-card').forEach(card => {
      card.addEventListener('mousedown', function () {
        this.classList.add('active');
      });
      card.addEventListener('mouseup', function () {
        this.classList.remove('active');
      });
      card.addEventListener('mouseleave', function () {
        this.classList.remove('active');
      });
      card.addEventListener('touchstart', function () {
        this.classList.add('active');
      });
      card.addEventListener('touchend', function () {
        this.classList.remove('active');
      });
    });


    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
      anchor.addEventListener('click', function (e) {
        const targetId = this.getAttribute('href').slice(1);
        const target = document.getElementById(targetId);
        if (target) {
          e.preventDefault();
          const headerOffset = 100;
          const elementPosition = target.getBoundingClientRect().top + window.pageYOffset;
          const offsetPosition = elementPosition - headerOffset;
          window.scrollTo({
            top: offsetPosition,
            behavior: 'smooth'
          });
        }
      });
    });



    function updateNavMenuTop() {
      const header = document.querySelector('header');
      const navMenu = document.querySelector('.nav_menu');
      if (header && navMenu) {
        const headerHeight = header.offsetHeight;
        navMenu.style.top = headerHeight + 'px';
      }
    }
    window.addEventListener('DOMContentLoaded', updateNavMenuTop);
    window.addEventListener('resize', updateNavMenuTop);

    // === Language Switcher ===
    const translations = {
      en: {
        navHome: "Home",
        navLab: "Laboratory",
        navEngineering: "Engineering Study",
        navAbout: "About",
        navContact: "Contact us",
        bigcard1Title: "Physico-Chemical Analyses",
        bigcard1Desc: "We perform a wide range of parameters to assess water composition",
        bigcard2Title: "Microbiological Analyses",
        bigcard2Desc: "We help communities build greener, smarter, and more responsible territories thanks to our environmental expertise.",
        analysis1Title: "Physico-Chemical Analyses",
        analysis1Desc: "Comprehensive assessment of the chemical composition and physical properties of your water",
        analysis1Li1: "Temperature, pH, conductivity, turbidity",
        analysis1Li2: "Total hardness, calcium, magnesium, sodium, potassium",
        analysis1Li3: "Nitrates, nitrites, ammonium, chlorides, sulfates, phosphates",
        analysis1Li4: "Chemical Oxygen Demand (COD), Biological Oxygen Demand (BOD5)",
        analysis1Li5: "Heavy metals (lead, arsenic, mercury, etc.)",
        analysis1Li6: "Hydrocarbons, chemical residues, pesticides (on request)",
        analysis2Title: "Microbiological Analyses",
        analysis2Desc: "Detection and identification of microorganisms to ensure sanitary safety",
        analysis2Li1: "Total and fecal coliform bacteria",
        analysis2Li2: "Escherichia coli (E. coli)",
        analysis2Li3: "Salmonella",
        analysis2Li4: "Pseudomonas aeruginosa",
        analysis2Li5: "Yeasts and molds (if requested)",
        footerAboutTitle: "Horizons",
        footerAboutText: "Serving sustainable innovation and environmentally friendly solutions for real impact.",
        footerLinksTitle: "Links",
        footerHome: "Home",
        footerLab: "Laboratory",
        footerEngineering: "Engineering Study",
        footerAbout: "About",
        footerContactTitle: "Contact us",
        footerPhoneLabel: "Phone:",
        footerAddressLabel: "Address:",
        footerLocationTitle: "Our location",
        footerCopyright: "© 2025 Horizons. All rights reserved.",
      },
      fr: {
        navHome: "Accueil",
        navLab: "Laboratoire",
        navEngineering: "Etude et ingénierie",
        navAbout: "À propos",
        navContact: "contactez-nous",
        bigcard1Title: "Analyses Physico-Chimiques",
        bigcard1Desc: "Nous réalisons une large gamme de paramètres pour évaluer la composition de l’eau",
        bigcard2Title: "Analyses Microbiologiques",
        bigcard2Desc: "Nous aidons les collectivités à bâtir des territoires plus verts, plus intelligents et plus responsables grâce à notre expertise environnementale.",
        analysis1Title: "Analyses Physico-Chimiques",
        analysis1Desc: "Évaluation complète de la composition chimique et des propriétés physiques de votre eau",
        analysis1Li1: "Température, pH, conductivité, turbidité",
        analysis1Li2: "Dureté totale, calcium, magnésium, sodium, potassium",
        analysis1Li3: "Nitrates, nitrites, ammonium, chlorures, sulfates, phosphates",
        analysis1Li4: "Demande Chimique en Oxygène (DCO), Demande Biologique en Oxygène (DBO5)",
        analysis1Li5: "Métaux lourds (plomb, arsenic, mercure, etc.)",
        analysis1Li6: "Hydrocarbures, résidus chimiques, pesticides (sur demande)",
        analysis2Title: "Analyses Microbiologiques",
        analysis2Desc: "Détection et identification des micro-organismes pour assurer la sécurité sanitaire",
        analysis2Li1: "Bactéries coliformes totales et fécales",
        analysis2Li2: "Escherichia coli (E. coli)",
        analysis2Li3: "Salmonelles",
        analysis2Li4: "Pseudomonas aeruginosa",
        analysis2Li5: "Levures et moisissures (si demandé)",
        footerAboutTitle: "Horizons",
        footerAboutText: "Au service de l’innovation durable et de solutions respectueuses de l’environnement, pour un impact réel.",
        footerLinksTitle: "Lien",
        footerHome: "Accueil",
        footerLab: "Laboratoire",
        footerEngineering: "Etude et ingénierie",
        footerAbout: "À propos",
        footerContactTitle: "Contactez-nous",
        footerPhoneLabel: "Téléphone:",
        footerAddressLabel: "Adresse:",
        footerLocationTitle: "Notre localisation",
        footerCopyright: "© 2025 Horizons. Tous droits réservés.",
      }
    };
    let currentLang = 'fr';
    const langSwitchFloating = document.getElementById('lang-switch-floating');
    function switchLanguage(lang) {
      // Header
      document.getElementById('nav-home').textContent = translations[lang].navHome;
      document.getElementById('nav-lab').textContent = translations[lang].navLab;
      document.getElementById('nav-engineering').textContent = translations[lang].navEngineering;
      document.getElementById('nav-about').textContent = translations[lang].navAbout;
      document.getElementById('nav-contact').textContent = translations[lang].navContact;
      // Big cards
      document.getElementById('bigcard1-title').textContent = translations[lang].bigcard1Title;
      document.getElementById('bigcard1-desc').textContent = translations[lang].bigcard1Desc;
      document.getElementById('bigcard2-title').textContent = translations[lang].bigcard2Title;
      document.getElementById('bigcard2-desc').textContent = translations[lang].bigcard2Desc;
      // Analysis 1
      document.getElementById('analysis1-title').textContent = translations[lang].analysis1Title;
      document.getElementById('analysis1-desc').textContent = translations[lang].analysis1Desc;
      document.getElementById('analysis1-li1').textContent = translations[lang].analysis1Li1;
      document.getElementById('analysis1-li2').textContent = translations[lang].analysis1Li2;
      document.getElementById('analysis1-li3').textContent = translations[lang].analysis1Li3;
      document.getElementById('analysis1-li4').textContent = translations[lang].analysis1Li4;
      document.getElementById('analysis1-li5').textContent = translations[lang].analysis1Li5;
      document.getElementById('analysis1-li6').textContent = translations[lang].analysis1Li6;
      // Analysis 2
      document.getElementById('analysis2-title').textContent = translations[lang].analysis2Title;
      document.getElementById('analysis2-desc').textContent = translations[lang].analysis2Desc;
      document.getElementById('analysis2-li1').textContent = translations[lang].analysis2Li1;
      document.getElementById('analysis2-li2').textContent = translations[lang].analysis2Li2;
      document.getElementById('analysis2-li3').textContent = translations[lang].analysis2Li3;
      document.getElementById('analysis2-li4').textContent = translations[lang].analysis2Li4;
      document.getElementById('analysis2-li5').textContent = translations[lang].analysis2Li5;
      // Footer
      document.getElementById('footer-about-title').textContent = translations[lang].footerAboutTitle;
      document.getElementById('footer-about-text').textContent = translations[lang].footerAboutText;
      document.getElementById('footer-links-title').textContent = translations[lang].footerLinksTitle;
      document.getElementById('footer-home').textContent = translations[lang].footerHome;
      document.getElementById('footer-lab').textContent = translations[lang].footerLab;
      document.getElementById('footer-engineering').textContent = translations[lang].footerEngineering;
      document.getElementById('footer-about').textContent = translations[lang].footerAbout;
      document.getElementById('footer-contact-title').textContent = translations[lang].footerContactTitle;
      document.getElementById('footer-phone-label').textContent = translations[lang].footerPhoneLabel;
      document.getElementById('footer-address-label').textContent = translations[lang].footerAddressLabel;
      document.getElementById('footer-location-title').textContent = translations[lang].footerLocationTitle;
      document.getElementById('footer-copyright').textContent = translations[lang].footerCopyright;
      // Update button text
      // Update button flag
      document.getElementById('lang-switch-flag').innerHTML = getFlagSVG(lang);
      // Update dropdown flags and checkmarks
      const enBtn = document.getElementById('lang-switch-option-en');
      const frBtn = document.getElementById('lang-switch-option-fr');
      enBtn.querySelector('.lang-switch-flag').innerHTML = getFlagSVG('en');
      frBtn.querySelector('.lang-switch-flag').innerHTML = getFlagSVG('fr');
      enBtn.querySelector('.lang-switch-check').style.display = lang === 'en' ? 'inline' : 'none';
      frBtn.querySelector('.lang-switch-check').style.display = lang === 'fr' ? 'inline' : 'none';
      // Animate flag
      document.getElementById('lang-switch-flag').classList.remove('lang-switch-flag');
      void document.getElementById('lang-switch-flag').offsetWidth;
      document.getElementById('lang-switch-flag').classList.add('lang-switch-flag');
      // Update ARIA
      document.getElementById('lang-switch-floating').setAttribute('aria-expanded', 'false');
      currentLang = lang;
    }
    // --- Language Switcher Dropdown Logic ---
    function getFlagSVG(lang) {
      if (lang === 'fr') {
        return `<svg width="28" height="20" viewBox="0 0 3 2"><rect width="1" height="2" x="0" y="0" fill="#002395"/><rect width="1" height="2" x="1" y="0" fill="#fff"/><rect width="1" height="2" x="2" y="0" fill="#ed2939"/></svg>`;
      } else {
        return `<svg width="28" height="20" viewBox="0 0 7410 3900"><rect width="7410" height="3900" fill="#b22234"/><g fill="#fff"><g id="s18"><rect y="300" width="7410" height="300"/><rect y="900" width="7410" height="300"/><rect y="1500" width="7410" height="300"/><rect y="2100" width="7410" height="300"/><rect y="2700" width="7410" height="300"/><rect y="3300" width="7410" height="300"/></g></g><rect width="2964" height="2100" fill="#3c3b6e"/><g fill="#fff"><g id="s5"><g id="s4"><g id="s3"><g id="s2"><path id="s1" d="M247,90l-76.5,234.9 198.9-144.8H124.6L323.5,324.9z"/><use xlink:href="#s1" y="420"/><use xlink:href="#s1" y="840"/><use xlink:href="#s1" y="1260"/><use xlink:href="#s1" y="1680"/></g><use xlink:href="#s2" x="247" y="210"/></g><use xlink:href="#s3" x="494"/></g><use xlink:href="#s4" x="988"/></g><use xlink:href="#s5" x="1976"/></g></svg>`;
      }
    }
    // Initial render
    function renderLangSwitcher() {
      document.getElementById('lang-switch-flag').innerHTML = getFlagSVG(currentLang);
      const enBtn = document.getElementById('lang-switch-option-en');
      const frBtn = document.getElementById('lang-switch-option-fr');
      enBtn.querySelector('.lang-switch-flag').innerHTML = getFlagSVG('en');
      frBtn.querySelector('.lang-switch-flag').innerHTML = getFlagSVG('fr');
      enBtn.querySelector('.lang-switch-check').style.display = currentLang === 'en' ? 'inline' : 'none';
      frBtn.querySelector('.lang-switch-check').style.display = currentLang === 'fr' ? 'inline' : 'none';
    }
    renderLangSwitcher();
    // Dropdown toggle
    const langSwitcherBtn = document.getElementById('lang-switch-floating');
    const langDropdown = document.getElementById('lang-switch-dropdown');
    langSwitcherBtn.addEventListener('click', function (e) {
      e.stopPropagation();
      langDropdown.classList.toggle('show');
      langSwitcherBtn.classList.toggle('open');
      langSwitcherBtn.setAttribute('aria-expanded', langDropdown.classList.contains('show'));
      // Focus first option for accessibility
      if (langDropdown.classList.contains('show')) {
        setTimeout(() => {
          const first = langDropdown.querySelector('.lang-switch-option:not([disabled])');
          if (first) first.focus();
        }, 80);
      }
    });
    // Option click
    document.getElementById('lang-switch-option-en').addEventListener('click', function (e) {
      e.stopPropagation();
      if (currentLang !== 'en') switchLanguage('en');
      langDropdown.classList.remove('show');
      langSwitcherBtn.classList.remove('open');
      langSwitcherBtn.setAttribute('aria-expanded', 'false');
    });
    document.getElementById('lang-switch-option-fr').addEventListener('click', function (e) {
      e.stopPropagation();
      if (currentLang !== 'fr') switchLanguage('fr');
      langDropdown.classList.remove('show');
      langSwitcherBtn.classList.remove('open');
      langSwitcherBtn.setAttribute('aria-expanded', 'false');
    });
    // Hide dropdown on outside click
    document.addEventListener('click', function (e) {
      langDropdown.classList.remove('show');
      langSwitcherBtn.classList.remove('open');
      langSwitcherBtn.setAttribute('aria-expanded', 'false');
    });
    // Keyboard accessibility
    langSwitcherBtn.addEventListener('keydown', function (e) {
      if (e.key === 'Enter' || e.key === ' ' || e.key === 'ArrowDown') {
        e.preventDefault();
        langDropdown.classList.add('show');
        langSwitcherBtn.classList.add('open');
        langSwitcherBtn.setAttribute('aria-expanded', 'true');
        setTimeout(() => {
          const first = langDropdown.querySelector('.lang-switch-option:not([disabled])');
          if (first) first.focus();
        }, 80);
      }
    });
    langDropdown.addEventListener('keydown', function (e) {
      const options = Array.from(langDropdown.querySelectorAll('.lang-switch-option'));
      const idx = options.indexOf(document.activeElement);
      if (e.key === 'ArrowDown') {
        e.preventDefault();
        const next = options[(idx + 1) % options.length];
        if (next) next.focus();
      } else if (e.key === 'ArrowUp') {
        e.preventDefault();
        const prev = options[(idx - 1 + options.length) % options.length];
        if (prev) prev.focus();
      } else if (e.key === 'Escape') {
        langDropdown.classList.remove('show');
        langSwitcherBtn.classList.remove('open');
        langSwitcherBtn.setAttribute('aria-expanded', 'false');
        langSwitcherBtn.focus();
      }
    });


    // Set active navigation link based on current page
    function setActiveNavLink() {
      const currentPage = window.location.pathname.split('/').pop() || 'Laboratoire.html';
      const navLinks = document.querySelectorAll('.nav_link');

      navLinks.forEach(link => {
        link.classList.remove('active');
        const href = link.getAttribute('href');
        if (href === currentPage || (currentPage === 'Laboratoire.html' && href === 'Laboratoire.html')) {
          link.classList.add('active');
        }
      });
    }


    // Call the function when the page loads
    document.addEventListener('DOMContentLoaded', setActiveNavLink);

    document.addEventListener('DOMContentLoaded', function () {
      const aboutLink = document.querySelector('a[href="Laboratoire.html"]');
      if (aboutLink) {
        aboutLink.classList.add('active');
      }
    });


  </script>

</body>

</html>