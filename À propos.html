<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>À propos</title>
  <link rel="stylesheet" href="style À propos.css">
</head>

<body>

  <!-- header -->
  <header>
    <nav class="navbar">
      <div class="navbar-left">
        <a href="index.html" class="logo">
          <img src="imag.png" alt="Horizons Logo" class="logo-img">
        </a>
      </div>
      <button class="navbar-toggle" aria-label="Toggle navigation">
        <span class="bar"></span>
        <span class="bar"></span>
        <span class="bar"></span>
      </button>
      <ul class="nav_menu">
        <li class="nav_item1">
          <a href="index.html" class="nav_link" id="nav-home">Accueil</a>
        </li>
        <li class="nav_item1">
          <a href="Laboratoire.html" class="nav_link" id="nav-lab">Laboratoire</a>
        </li>
        <li class="nav_item1">
          <a href="Etude et ingénierie.html" class="nav_link" id="nav-engineering">Etude et ingénierie</a>
        </li>
        <li class="nav_item1">
          <a href="À propos.html" class="nav_link" id="nav-about">À propos</a>
        </li>
        <li class="nav_item">
          <button class="botun" onclick="window.location.href='contact.html'" id="nav-contact">contactez-nous</button>
        </li>
      </ul>
    </nav>
  </header>


  <main class="about-grid-main">
    <div class="about-grid-container">
      <!-- Top Left: À propos de nous -->
      <div class="about-card about-card--top-left">
        <h3 id="about-title">À propos de nous</h3>
        <p id="about-text">
          HORIZONS ingénierie et environnement est un bureau d’ingénierie et un laboratoire spécialisé dans le
          traitement des eaux. Forts de notre expertise technique et de notre engagement pour un environnement sain et
          un développement durable, nous accompagnons les industriels, les collectivités et opérateurs privés dans leurs
          projets liés à la protection de l’environnement.
        </p>
      </div>
      <!-- Top Right: Notre engagement -->
      <div class="about-card about-card--top-right">
        <h3 id="engagement-title">Notre engagement</h3>
        <p id="engagement-text">
          Nous mettons à votre service des équipements de pointe, une équipe d'experts et des méthodes
          accréditées pour garantir des résultats fiables, précis et conformes aux normes nationales
          et internationales.
        </p>
        <ul class="about-engagement-list" id="engagement-list">
          <li>Protocoles rigoureux</li>
          <li>Traçabilité et fiabilité garanties</li>
          <li>Rapports clairs et interprétés</li>
        </ul>
      </div>
      <!-- Bottom Left: Nos valeurs -->
      <div class="about-card about-card--bottom-left">
        <h3 id="values-title">Nos valeurs</h3>
        <p id="values-text">
          Rigueur technique et respect des normes, transparence et accompagnement personnalisé,
          engagement pour la durabilité et la performance, réactivité et proximité avec nos partenaires.
        </p>
        <div class="about-card-subtitle" id="values-subtitle">Expertise · Innovation · Durabilité</div>
      </div>
      <!-- Bottom Right: Notre mission -->
      <div class="about-card about-card--bottom-right">
        <h3 id="mission-title">Notre mission</h3>
        <p id="mission-text">
          Offrir un accompagnement professionnel et innovant dans la gestion des services
          d'assainissement, le traitement des odeurs et la réhabilitation des sites contaminés
          pour préserver la qualité de l'eau et de l'environnement.
        </p>
      </div>
      <!-- Center: Logo -->
      <div class="about-logo-center">
        <img src="imag.png" alt="Logo" class="about-logo-img" />
      </div>
    </div>
  </main>


  <!-- footer -->



  <footer class="footer">
    <div class="footer-container">
      <div class="footer-about">
        <h3 id="footer-about-title">Horizons</h3>
        <p id="footer-about-text">
          Au service de l’innovation durable et de solutions respectueuses de l’environnement, pour un impact réel.
        </p>
        <div class="footer-social">
          <div class="social-icons">
            <a href="#" aria-label="Facebook" class="social-icon">
              <svg width="24" height="24" fill="currentColor" viewBox="0 0 24 24">
                <path
                  d="M24 12.073C24 5.405 18.627 0 12 0S0 5.405 0 12.073c0 6.019 4.388 10.995 10.125 11.854v-8.385H7.078v-3.47h3.047V9.413c0-3.007 1.792-4.668 4.533-4.668 1.312 0 2.686.235 2.686.235v2.953h-1.513c-1.491 0-1.953.926-1.953 1.874v2.25h3.328l-.532 3.47h-2.796v8.385C19.612 23.068 24 18.092 24 12.073z" />
              </svg>
            </a>
            <a href="#" aria-label="LinkedIn" class="social-icon">
              <svg width="24" height="24" fill="currentColor" viewBox="0 0 24 24">
                <path
                  d="M20.447 20.452h-3.554v-5.569c0-1.327-.027-3.037-1.849-3.037-1.851 0-2.132 1.445-2.132 2.939v5.667H9.358V9h3.414v1.561h.049c.476-.899 1.637-1.849 3.37-1.849 3.602 0 4.267 2.368 4.267 5.455v6.285zM5.337 7.433c-1.144 0-2.069-.926-2.069-2.068 0-1.143.925-2.069 2.069-2.069 1.143 0 2.068.926 2.068 2.069 0 1.142-.925 2.068-2.068 2.068zm1.777 13.019H3.56V9h3.554v11.452zM22.225 0H1.771C.792 0 0 .771 0 1.723v20.549C0 23.229.792 24 1.771 24h20.451C23.2 24 24 23.229 24 22.271V1.723C24 .771 23.2 0 22.225 0z" />
              </svg>
            </a>
          </div>
        </div>
      </div>

      <div class="footer-links">
        <h3 id="footer-links-title">Lien</h3>
        <ul>
          <li><a href="index.html" id="footer-home">Accueil</a></li>
          <li><a href="Laboratoire.html" id="footer-lab">Laboratoire</a></li>
          <li><a href="Etude et ingénierie.html" id="footer-engineering">Etude et ingénierie</a></li>
          <li><a href="À propos.html" id="footer-about">À propos</a></li>
        </ul>
      </div>

      <div class="footer-newsletter">
        <h3 id="footer-contact-title">Contactez-nous</h3>
        <div class="footer-contact-info">
          <p><strong>Email:</strong> <span id="footer-email">contact@horizons.com</span></p>
          <p><strong id="footer-phone-label">Téléphone:</strong> <span id="footer-phone">+212 661 26 95 52</span></p>
          <p><strong id="footer-address-label">Adresse:</strong> <span id="footer-address">ZONE INDUSTRIELLE TASSILA
              AGADIR</span></p>
        </div>
      </div>

      <div class="footer-social">
        <h3 id="footer-location-title">Notre localisation</h3>
        <div class="footer-map" style="width:100%;height:180px;max-width:300px;">
          <iframe src="https://www.google.com/maps?q=Av.+Al+Farabi,+Dcheira+El+Jihadia+80000&output=embed" width="100%"
            height="180" style="border:0; border-radius:12px;" allowfullscreen="" loading="lazy"
            referrerpolicy="no-referrer-when-downgrade"></iframe>
        </div>
      </div>
    </div>
    <div class="footer-bottom">
      <p id="footer-copyright">© 2025 Horizons. Tous droits réservés.</p>
    </div>
  </footer>

  <button id="backToTop">
    <svg width="24" height="24" viewBox="0 0 24 24" fill="none">
      <path d="M12 5L12 19" stroke="white" stroke-width="2" stroke-linecap="round" />
      <path d="M5 12L12 5L19 12" stroke="white" stroke-width="2" stroke-linecap="round" />
    </svg>
  </button>
  <!-- Floating Language Switcher -->
  <div id="lang-switcher-container">
    <button id="lang-switch-floating" class="lang-switch-fab" title="Switch language" aria-haspopup="listbox"
      aria-expanded="false" tabindex="0">
      <span id="lang-switch-flag" class="lang-switch-flag"></span>
    </button>
    <div id="lang-switch-dropdown" class="lang-switch-dropdown" role="listbox" tabindex="-1">
      <button class="lang-switch-option" id="lang-switch-option-en" data-lang="en" tabindex="0">
        <span class="lang-switch-flag"></span>
        <span class="lang-switch-label">EN</span>
        <span class="lang-switch-check" style="display:none;">✔</span>
      </button>
      <button class="lang-switch-option" id="lang-switch-option-fr" data-lang="fr" tabindex="0">
        <span class="lang-switch-flag"></span>
        <span class="lang-switch-label">FR</span>
        <span class="lang-switch-check" style="display:none;">✔</span>
      </button>
    </div>
  </div>


  <script>
    // Hamburger menu toggle for mobile
    const toggle = document.querySelector('.navbar-toggle');
    const navMenu = document.querySelector('.nav_menu');
    if (toggle && navMenu) {
      toggle.addEventListener('click', () => {
        navMenu.classList.toggle('open');
        toggle.classList.toggle('open');
      });
    }
    // Back to Top button functionality
    const backToTopBtn = document.getElementById('backToTop');
    window.onscroll = function () {
      if (document.body.scrollTop > 200 || document.documentElement.scrollTop > 200) {
        backToTopBtn.classList.add("show");
      } else {
        backToTopBtn.classList.remove("show");
      }
    };
    backToTopBtn.onclick = function () {
      window.scrollTo({ top: 0, behavior: 'smooth' });
    };


    document.addEventListener('DOMContentLoaded', function () {
      // Animate sections on scroll
      const observer = new IntersectionObserver((entries) => {
        entries.forEach(entry => {
          if (entry.isIntersecting) {
            const delay = entry.target.getAttribute('data-delay') || '0s';
            entry.target.style.animationDelay = delay;
            entry.target.style.opacity = '1';
            entry.target.style.transform = 'translateY(0)';
          }
        });
      }, {
        threshold: 0.1,
        rootMargin: '0px 0px -50px 0px'
      });

      // Observe all feature cards
      const featureCards = document.querySelectorAll('.feature-card');
      featureCards.forEach(card => {
        observer.observe(card);
      });

      // Observe engagement section elements
      const engagementElements = document.querySelectorAll('.engagement-content, .engagement-visual');
      engagementElements.forEach(el => {
        observer.observe(el);
      });

      // Add smooth scrolling for any internal links (if added later)
      document.querySelectorAll('a[href^="#"]').forEach(anchor => {
        anchor.addEventListener('click', function (e) {
          e.preventDefault();
          const target = document.querySelector(this.getAttribute('href'));
          if (target) {
            target.scrollIntoView({
              behavior: 'smooth',
              block: 'start'
            });
          }
        });
      });

      // Add parallax effect to floating bubbles
      window.addEventListener('scroll', () => {
        const scrolled = window.pageYOffset;
        const parallaxElements = document.querySelectorAll('.floating-bubble');

        parallaxElements.forEach((element, index) => {
          const speed = (index + 1) * 0.5;
          const yPos = -(scrolled * speed);
          element.style.transform = `translateY(${yPos}px)`;
        });
      });

      // Add hover effects to feature cards
      featureCards.forEach(card => {
        card.addEventListener('mouseenter', function () {
          this.style.transform = 'translateY(-5px)';
        });

        card.addEventListener('mouseleave', function () {
          this.style.transform = 'translateY(0)';
        });
      });
    });





    document.addEventListener('DOMContentLoaded', function () {
      // Enhanced scroll animation observer
      const observerOptions = {
        threshold: 0.1,
        rootMargin: '0px 0px -50px 0px'
      };

      const animationObserver = new IntersectionObserver((entries) => {
        entries.forEach(entry => {
          if (entry.isIntersecting) {
            const element = entry.target;
            const animationType = element.getAttribute('data-animation') || 'fade-up';
            const delay = element.getAttribute('data-delay') || '0s';

            // Apply delay and trigger animation
            setTimeout(() => {
              switch (animationType) {
                case 'fade-up':
                  element.classList.add('animate-in');
                  break;
                case 'fade-right':
                  element.style.animation = 'slideInRight 0.8s cubic-bezier(0.4, 0, 0.2, 1) forwards';
                  break;
                case 'fade-left':
                  element.style.animation = 'slideInLeft 0.8s cubic-bezier(0.4, 0, 0.2, 1) forwards';
                  break;
                default:
                  element.classList.add('animate-in');
              }
              element.style.opacity = '1';
              element.style.transform = 'translateY(0) translateX(0)';
            }, parseFloat(delay) * 1000);

            // Stop observing once animated
            animationObserver.unobserve(element);
          }
        });
      }, observerOptions);

      // Observe all elements with animation attributes
      const animatedElements = document.querySelectorAll('[data-animation]');
      animatedElements.forEach(element => {
        animationObserver.observe(element);
      });

      // Enhanced parallax effect for floating elements
      let ticking = false;

      function updateParallax() {
        const scrolled = window.pageYOffset;
        const rate = scrolled * -0.5;

        const floatingElements = document.querySelectorAll('.floating-element');
        floatingElements.forEach((element, index) => {
          const speed = (index + 1) * 0.3;
          const yPos = rate * speed;
          element.style.transform = `translateY(${yPos}px)`;
        });

        ticking = false;
      }

      function requestTick() {
        if (!ticking) {
          requestAnimationFrame(updateParallax);
          ticking = true;
        }
      }

      window.addEventListener('scroll', requestTick, { passive: true });

      // Enhanced hover effects for cards
      const featureCards = document.querySelectorAll('.feature-card');
      featureCards.forEach(card => {
        card.addEventListener('mouseenter', function () {
          this.style.transform = 'translateY(-10px)';
        });

        card.addEventListener('mouseleave', function () {
          this.style.transform = 'translateY(0)';
        });
      });


      // Add smooth scrolling for internal links
      document.querySelectorAll('a[href^="#"]').forEach(anchor => {
        anchor.addEventListener('click', function (e) {
          e.preventDefault();
          const target = document.querySelector(this.getAttribute('href'));
          if (target) {
            target.scrollIntoView({
              behavior: 'smooth',
              block: 'start'
            });
          }
        });
      });
    });
    function updateNavMenuTop() {
      const header = document.querySelector('header');
      const navMenu = document.querySelector('.nav_menu');
      if (header && navMenu) {
        const headerHeight = header.offsetHeight;
        navMenu.style.top = headerHeight + 'px';
      }
    }
    window.addEventListener('DOMContentLoaded', updateNavMenuTop);
    window.addEventListener('resize', updateNavMenuTop);

    // === Language Switcher ===
    const translations = {
      en: {
        aboutTitle: "About Us",
        aboutText: "HORIZONS engineering and environment is an engineering office and a laboratory specialized in water treatment. With our technical expertise and commitment to a healthy environment and sustainable development, we support industries, communities, and private operators in their projects related to water resources and environmental protection.",
        engagementTitle: "Our Commitment",
        engagementText: "We provide you with state-of-the-art equipment, a team of experts, and accredited methods to ensure reliable, accurate, and compliant results with national and international standards.",
        engagementList: [
          "Rigorous protocols",
          "Guaranteed traceability and reliability",
          "Clear and interpreted reports"
        ],
        valuesTitle: "Our Values",
        valuesText: "Technical rigor and compliance, transparency and personalized support, commitment to sustainability and performance, responsiveness and proximity to our partners.",
        valuesSubtitle: "Expertise · Innovation · Sustainability",
        missionTitle: "Our Mission",
        missionText: "To offer professional and innovative support in sanitation services management, odor treatment, and remediation of contaminated sites to preserve water and environmental quality.",
        navHome: "Home",
        navLab: "Laboratory",
        navEngineering: "Engineering Study",
        navAbout: "About",
        navContact: "Contact us",
        footerLinksTitle: "Links",
        footerHome: "Home",
        footerLab: "Laboratory",
        footerEngineering: "Engineering Study",
        footerAbout: "About",
        footerContactTitle: "Contact us",
        footerPhoneLabel: "Phone:",
        footerAddressLabel: "Address:",
        footerLocationTitle: "Our location",
        footerCopyright: "© 2025 Horizons. All rights reserved.",
        footerAboutTitle: "Horizons",
        footerAboutText: "Serving sustainable innovation and environmentally friendly solutions for real impact.",
      },
      fr: {
        aboutTitle: "À propos de nous",
        aboutText: "HORIZONS ingénierie et environnement est un bureau d’ingénierie et un laboratoire spécialisé dans le traitement des eaux. Forts de notre expertise technique et de notre engagement pour un environnement sain et un développement durable, nous accompagnons les industriels, les collectivités et opérateurs privés dans leurs projets liés à la protection de l’environnement.",
        engagementTitle: "Notre engagement",
        engagementText: "Nous mettons à votre service des équipements de pointe, une équipe d'experts et des méthodes accréditées pour garantir des résultats fiables, précis et conformes aux normes nationales et internationales.",
        engagementList: [
          "Protocoles rigoureux",
          "Traçabilité et fiabilité garanties",
          "Rapports clairs et interprétés"
        ],
        valuesTitle: "Nos valeurs",
        valuesText: "Rigueur technique et respect des normes, transparence et accompagnement personnalisé, engagement pour la durabilité et la performance, réactivité et proximité avec nos partenaires.",
        valuesSubtitle: "Expertise · Innovation · Durabilité",
        missionTitle: "Notre mission",
        missionText: "Offrir un accompagnement professionnel et innovant dans la gestion des services d'assainissement, le traitement des odeurs et la réhabilitation des sites contaminés pour préserver la qualité de l'eau et de l'environnement.",
        navHome: "Accueil",
        navLab: "Laboratoire",
        navEngineering: "Etude et ingénierie",
        navAbout: "À propos",
        navContact: "contactez-nous",
        footerLinksTitle: "Lien",
        footerHome: "Accueil",
        footerLab: "Laboratoire",
        footerEngineering: "Etude et ingénierie",
        footerAbout: "À propos",
        footerContactTitle: "Contactez-nous",
        footerPhoneLabel: "Téléphone:",
        footerAddressLabel: "Adresse:",
        footerLocationTitle: "Notre localisation",
        footerCopyright: "© 2025 Horizons. Tous droits réservés.",
        footerAboutTitle: "Horizons",
        footerAboutText: "Au service de l’innovation durable et de solutions respectueuses de l’environnement, pour un impact réel.",
      }
    };
    let currentLang = 'fr';
    function switchLanguage(lang) {
      document.getElementById('about-title').textContent = translations[lang].aboutTitle;
      document.getElementById('about-text').textContent = translations[lang].aboutText;
      document.getElementById('engagement-title').textContent = translations[lang].engagementTitle;
      document.getElementById('engagement-text').textContent = translations[lang].engagementText;
      document.getElementById('values-title').textContent = translations[lang].valuesTitle;
      document.getElementById('values-text').textContent = translations[lang].valuesText;
      document.getElementById('values-subtitle').textContent = translations[lang].valuesSubtitle;
      document.getElementById('mission-title').textContent = translations[lang].missionTitle;
      document.getElementById('mission-text').textContent = translations[lang].missionText;
      // Change engagement list
      const engagementList = document.getElementById('engagement-list');
      engagementList.innerHTML = '';
      translations[lang].engagementList.forEach(item => {
        const li = document.createElement('li');
        li.textContent = item;
        engagementList.appendChild(li);
      });
      // Header
      document.getElementById('nav-home').textContent = translations[lang].navHome;
      document.getElementById('nav-lab').textContent = translations[lang].navLab;
      document.getElementById('nav-engineering').textContent = translations[lang].navEngineering;
      document.getElementById('nav-about').textContent = translations[lang].navAbout;
      document.getElementById('nav-contact').textContent = translations[lang].navContact;
      // Footer
      document.getElementById('footer-links-title').textContent = translations[lang].footerLinksTitle;
      document.getElementById('footer-home').textContent = translations[lang].footerHome;
      document.getElementById('footer-lab').textContent = translations[lang].footerLab;
      document.getElementById('footer-engineering').textContent = translations[lang].footerEngineering;
      document.getElementById('footer-about').textContent = translations[lang].footerAbout;
      document.getElementById('footer-contact-title').textContent = translations[lang].footerContactTitle;
      document.getElementById('footer-phone-label').textContent = translations[lang].footerPhoneLabel;
      document.getElementById('footer-address-label').textContent = translations[lang].footerAddressLabel;
      document.getElementById('footer-location-title').textContent = translations[lang].footerLocationTitle;
      document.getElementById('footer-copyright').textContent = translations[lang].footerCopyright;
      document.getElementById('footer-about-title').textContent = translations[lang].footerAboutTitle;
      document.getElementById('footer-about-text').textContent = translations[lang].footerAboutText;
      // Update button text
      // Update button flag
      document.getElementById('lang-switch-flag').innerHTML = getFlagSVG(lang);
      // Update dropdown flags and checkmarks
      const enBtn = document.getElementById('lang-switch-option-en');
      const frBtn = document.getElementById('lang-switch-option-fr');
      enBtn.querySelector('.lang-switch-flag').innerHTML = getFlagSVG('en');
      frBtn.querySelector('.lang-switch-flag').innerHTML = getFlagSVG('fr');
      enBtn.querySelector('.lang-switch-check').style.display = lang === 'en' ? 'inline' : 'none';
      frBtn.querySelector('.lang-switch-check').style.display = lang === 'fr' ? 'inline' : 'none';
      // Animate flag
      document.getElementById('lang-switch-flag').classList.remove('lang-switch-flag');
      void document.getElementById('lang-switch-flag').offsetWidth;
      document.getElementById('lang-switch-flag').classList.add('lang-switch-flag');
      // Update ARIA
      document.getElementById('lang-switch-floating').setAttribute('aria-expanded', 'false');
      currentLang = lang;
    }
    // --- Language Switcher Dropdown Logic ---
    function getFlagSVG(lang) {
      if (lang === 'fr') {
        return `<svg width="28" height="20" viewBox="0 0 3 2"><rect width="1" height="2" x="0" y="0" fill="#002395"/><rect width="1" height="2" x="1" y="0" fill="#fff"/><rect width="1" height="2" x="2" y="0" fill="#ed2939"/></svg>`;
      } else {
        return `<svg width="28" height="20" viewBox="0 0 7410 3900"><rect width="7410" height="3900" fill="#b22234"/><g fill="#fff"><g id="s18"><rect y="300" width="7410" height="300"/><rect y="900" width="7410" height="300"/><rect y="1500" width="7410" height="300"/><rect y="2100" width="7410" height="300"/><rect y="2700" width="7410" height="300"/><rect y="3300" width="7410" height="300"/></g></g><rect width="2964" height="2100" fill="#3c3b6e"/><g fill="#fff"><g id="s5"><g id="s4"><g id="s3"><g id="s2"><path id="s1" d="M247,90l-76.5,234.9 198.9-144.8H124.6L323.5,324.9z"/><use xlink:href="#s1" y="420"/><use xlink:href="#s1" y="840"/><use xlink:href="#s1" y="1260"/><use xlink:href="#s1" y="1680"/></g><use xlink:href="#s2" x="247" y="210"/></g><use xlink:href="#s3" x="494"/></g><use xlink:href="#s4" x="988"/></g><use xlink:href="#s5" x="1976"/></g></svg>`;
      }
    }
    // Initial render
    function renderLangSwitcher() {
      document.getElementById('lang-switch-flag').innerHTML = getFlagSVG(currentLang);
      const enBtn = document.getElementById('lang-switch-option-en');
      const frBtn = document.getElementById('lang-switch-option-fr');
      enBtn.querySelector('.lang-switch-flag').innerHTML = getFlagSVG('en');
      frBtn.querySelector('.lang-switch-flag').innerHTML = getFlagSVG('fr');
      enBtn.querySelector('.lang-switch-check').style.display = currentLang === 'en' ? 'inline' : 'none';
      frBtn.querySelector('.lang-switch-check').style.display = currentLang === 'fr' ? 'inline' : 'none';
    }
    renderLangSwitcher();
    // Dropdown toggle
    const langSwitcherBtn = document.getElementById('lang-switch-floating');
    const langDropdown = document.getElementById('lang-switch-dropdown');
    langSwitcherBtn.addEventListener('click', function (e) {
      e.stopPropagation();
      langDropdown.classList.toggle('show');
      langSwitcherBtn.classList.toggle('open');
      langSwitcherBtn.setAttribute('aria-expanded', langDropdown.classList.contains('show'));
      // Focus first option for accessibility
      if (langDropdown.classList.contains('show')) {
        setTimeout(() => {
          const first = langDropdown.querySelector('.lang-switch-option:not([disabled])');
          if (first) first.focus();
        }, 80);
      }
    });
    // Option click
    document.getElementById('lang-switch-option-en').addEventListener('click', function (e) {
      e.stopPropagation();
      if (currentLang !== 'en') switchLanguage('en');
      langDropdown.classList.remove('show');
      langSwitcherBtn.classList.remove('open');
      langSwitcherBtn.setAttribute('aria-expanded', 'false');
    });
    document.getElementById('lang-switch-option-fr').addEventListener('click', function (e) {
      e.stopPropagation();
      if (currentLang !== 'fr') switchLanguage('fr');
      langDropdown.classList.remove('show');
      langSwitcherBtn.classList.remove('open');
      langSwitcherBtn.setAttribute('aria-expanded', 'false');
    });
    // Hide dropdown on outside click
    document.addEventListener('click', function (e) {
      langDropdown.classList.remove('show');
      langSwitcherBtn.classList.remove('open');
      langSwitcherBtn.setAttribute('aria-expanded', 'false');
    });
    // Keyboard accessibility
    langSwitcherBtn.addEventListener('keydown', function (e) {
      if (e.key === 'Enter' || e.key === ' ' || e.key === 'ArrowDown') {
        e.preventDefault();
        langDropdown.classList.add('show');
        langSwitcherBtn.classList.add('open');
        langSwitcherBtn.setAttribute('aria-expanded', 'true');
        setTimeout(() => {
          const first = langDropdown.querySelector('.lang-switch-option:not([disabled])');
          if (first) first.focus();
        }, 80);
      }
    });
    langDropdown.addEventListener('keydown', function (e) {
      const options = Array.from(langDropdown.querySelectorAll('.lang-switch-option'));
      const idx = options.indexOf(document.activeElement);
      if (e.key === 'ArrowDown') {
        e.preventDefault();
        const next = options[(idx + 1) % options.length];
        if (next) next.focus();
      } else if (e.key === 'ArrowUp') {
        e.preventDefault();
        const prev = options[(idx - 1 + options.length) % options.length];
        if (prev) prev.focus();
      } else if (e.key === 'Escape') {
        langDropdown.classList.remove('show');
        langSwitcherBtn.classList.remove('open');
        langSwitcherBtn.setAttribute('aria-expanded', 'false');
        langSwitcherBtn.focus();
      }
    });
  </script>

</body>

</html>